---
lab:
    title: '03a - 使用 Azure 门户管理 Azure 资源'
    module: '模块 03 - Azure 管理'
---

# 实验室 03a - 使用 Azure 门户管理 Azure 资源
# 学生实验室手册

## 实验室场景

你需要探索与资源预配相关的基本 Azure 管理功能，并根据资源组进行组织（包括在资源组之间的移动资源）。你还希望探索一些选项，以防止磁盘资源被意外删除，同时仍允许修改其性能特征和大小。

## 目标

在本实验室中，我们将：

+ 任务 1：创建资源组并将资源部署到资源组
+ 任务 2：在资源组之间移动资源
+ 任务 3：实施和测试资源锁

## 预计用时：20 分钟

## 说明

### 练习 1

#### 任务 1：创建资源组并将资源部署到资源组

在此任务中，你将使用 Azure 门户创建资源组并在资源组中创建一个磁盘。

1. 登录到 [Azure 门户](https://portal.azure.com)。

1. 搜索并选择 **“资源组”**。 

1. 在 **“资源组”** 边栏选项卡上，点击 **“+ 添加”** 创建一个资源组，设置如下：

    |设置|数值|
    |---|---|
    |订阅| 你将在本实验室中使用的 Azure 订阅的名称 |
    |资源组| **az104-03a-rg1**|
    |区域| 你将在本实验室中使用的订阅中可用的任何 Azure 区域的名称 |

1. 单击 **“查看 + 创建”**，然后单击 **“创建”**。

1. 在 Azure 门户中，搜索并选择 **“磁盘”**，单击 **“+ 添加”**，然后指定以下设置：

    |设置|数值|
    |---|---|
    |订阅| 你创建的资源组的 Azure 订阅的名称 |
    |资源组| **az104-03a-rg1** |
    |磁盘名称| **az104-03a-disk1** |
    |区域| 创建资源组的 Azure 区域的名称 |
    |可用性区域：| **无** |
    |源类型| **无** |

    >**说明**：在创建资源时，你可以选择创建新资源组，也可以使用现有资源组。

1. 将磁盘类型和大小分别更改为 **标准 HDD** 和 **32 GiB**。

1. 单击 **“查看 + 创建”**，然后单击 **“创建”**。

    >**说明**：等待创建磁盘。用时应该少于一分钟。

#### 任务 2：在资源组之间移动资源 

在此任务中，我们会将你在上一个任务中创建的磁盘资源移至新的资源组。 

1. 搜索并选择 **“资源组”**。 

1. 在 **“资源组”** 边栏选项卡中，单击代表你在上一任务中创建的 **“az104-03a-rg1”** 资源组的条目。

1. 在资源组 **“概述”** 边栏选项卡的资源组资源列表中，选择表示新建磁盘的条目，然后单击工具栏中的 **“移动”**，然后在下拉列表中选择 **“移动到另一个资源组”**。

    >**说明**：此方法可以让你同时移动多个资源。 

1. 在 **“移动资源”** 边栏选项卡中，单击 **“创建一个新组”**。

1. 在 **“资源组”** 文本框中输入 **“az104-03a-rg2”**，选中复选框 **“我了解与已移动资源相关的工具和脚本将无法工作，直到我对其进行更新以使用新的资源 ID”**，然后单击 **“确定”**。

    >**说明**：不需要等待移动完成，而是继续执行下一个任务。该移动可能需要约 10 分钟。你可以通过监视源或目标资源组的活动日志条目来确定操作已完成。完成下一个任务后，请重新访问此步骤。

#### 任务 3：实现 Azure 资源锁

在此任务中，你将把资源锁应用于包含磁盘资源的 Azure 资源组。

1. 在 Azure 门户中，搜索并选择 **“磁盘”**，单击 **“+ 添加”**，然后指定以下设置：

    |设置|数值|
    |---|---|
    |订阅| 你在本实验室使用的订阅的名称 |
    |资源组| 一个新资源组的名称 **“az104-03a-rg3”** |
    |磁盘名称| **az104-03a-disk2** |
    |区域| 你在本实验室中创建其他资源组的 Azure 区域的名称 |
    |可用性区域：| **无** |
    |源类型| **无** |

1. 将磁盘类型和大小分别设置为 **“标准 HDD”** 和 **“32 GiB”**。

1. 单击 **“查看 + 创建”**，然后单击 **“创建”**。

1. 在 Azure 门户中，搜索并选择 **“资源组”**。 

1. 在资源组列表中，单击代表 **“az104-03a-rg3”** 资源组的条目。

1. 在 **“az104-03a-rg3”** 资源组边栏选项卡中，单击 **“锁”** 并添加一个锁，设置如下：

    |设置|数值|
    |---|---|
    |锁名称| **az104-03a-delete-lock** |
    |锁类型| **删除** |

1. 在 **“az104-03a-rg3”** 资源组边栏选项卡中，单击 **“概览”**，在“资源组资源”列表中，选择代表你先前在此任务中创建的磁盘的条目，然后在工具栏中单击 **“删除”**。 

1. 当提示 **“是否要删除所有选择的资源?”** 时， 在 **“确认删除”** 的文本框中输入 **“是”**，然后单击 **“删除”**。

1. 你应该看到一条错误消息，通知失败的删除操作。 

    >**说明**：正如错误消息所述，由于在资源组级别上应用了删除锁，所以会出现这种现象。

1. 导航回到 **“az104-03a-rg3”** 资源组的资源列表，然后单击代表 **“az104-03a-disk2”** 资源的条目。 

1. 在 **“az104-03a-disk2”** 边栏选项卡的 **“设置”** 部分，单击 **“大小 + 性能”**，将磁盘类型和大小分别设置为 **“高级 SSD”** 和 **“64 GiB”**，并应用更改。验证更改是否成功。

    >**说明**：这是预料之中的，因为资源组级别的锁仅适用于删除操作。 

#### 清理资源

   >**说明**：不要删除你在本实验室中部署的资源。在本模块的下一次实验室中，你需要使用他们。仅移除你在本实验室中创建的资源锁。

1. 返回 **“az104-03a-rg3”** 资源组边栏选项卡，显示其 **“锁”** 边栏选项卡，然后通过单击 **“删除”** 锁条目右侧的 **“删除”** 链接移除锁 **“az104-03a-delete-lock”**。

#### 回顾

在本实验室中，你已：

- 创建资源组并将资源部署到资源组
- 在资源组之间移动资源
- 实现和测试资源锁
